# RabbitMQ Admin Production Environment Configuration
# Copy this file to .env.production for production deployment

# Database Configuration (external database required)
DATABASE_URL=jdbc:postgresql://your-db-host:5432/rabbitmq_admin
DATABASE_USERNAME=rabbitmq_admin
DATABASE_PASSWORD=your-secure-database-password

# Application Configuration
APP_PORT=8080

# JWT Configuration (REQUIRED - generate a secure 256-bit key)
JWT_SECRET_KEY=your-secure-256-bit-jwt-secret-key-change-this-in-production

# Resource Management Configuration (Production Optimized)
# Auto-refresh settings (milliseconds) - more conservative for production
RESOURCE_REFRESH_DEFAULT_INTERVAL=60000   # 1 minute default
RESOURCE_REFRESH_MIN_INTERVAL=30000       # 30 seconds minimum
RESOURCE_REFRESH_MAX_INTERVAL=600000      # 10 minutes maximum

# Pagination settings - smaller for better performance
RESOURCE_DEFAULT_PAGE_SIZE=25             # Default items per page
RESOURCE_MAX_PAGE_SIZE=200                # Maximum items per page

# Caching configuration - longer TTL for production
RESOURCE_CACHE_ENABLED=true               # Enable client-side caching
RESOURCE_CACHE_DEFAULT_TTL=60000          # 1 minute cache TTL
RESOURCE_CACHE_MAX_SIZE=2000              # Maximum cache entries

# Rate limiting - stricter for production
RESOURCE_RATE_LIMIT_RPM=60                # Requests per minute per user
RESOURCE_RATE_LIMIT_BURST=5               # Burst size for rate limiting

# Connection pool settings - larger pool for production
RESOURCE_POOL_MAX_TOTAL=50                # Maximum total connections
RESOURCE_POOL_MAX_PER_ROUTE=25            # Maximum connections per route
RESOURCE_POOL_CONNECTION_TIMEOUT=15000    # Connection timeout (ms)
RESOURCE_POOL_SOCKET_TIMEOUT=45000        # Socket timeout (ms)

# Security Configuration
# Enable these for enhanced security in production
SECURITY_REQUIRE_SSL=true
SECURITY_HSTS_ENABLED=true
SECURITY_CONTENT_SECURITY_POLICY_ENABLED=true

# Monitoring and Observability
MANAGEMENT_ENDPOINTS_WEB_EXPOSURE_INCLUDE=health,info,metrics,prometheus
MANAGEMENT_ENDPOINT_HEALTH_SHOW_DETAILS=never
MANAGEMENT_METRICS_EXPORT_PROMETHEUS_ENABLED=true

# Logging Configuration
LOGGING_LEVEL_COM_RABBITMQ_ADMIN=INFO
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_SECURITY=WARN
LOGGING_LEVEL_ORG_SPRINGFRAMEWORK_WEB=WARN
LOGGING_FILE_NAME=/app/logs/rabbitmq-admin.log
LOGGING_LOGBACK_ROLLINGPOLICY_MAX_FILE_SIZE=10MB
LOGGING_LOGBACK_ROLLINGPOLICY_MAX_HISTORY=30
LOGGING_LOGBACK_ROLLINGPOLICY_TOTAL_SIZE_CAP=1GB

# Application Monitoring Configuration
APP_MONITORING_PERFORMANCE_SLOW_THRESHOLD_MS=5000      # 5 seconds for production
APP_MONITORING_PERFORMANCE_CRITICAL_THRESHOLD_MS=10000 # 10 seconds for production
APP_MONITORING_HEALTH_CHECK_INTERVAL_MINUTES=5        # 5 minutes for production
APP_MONITORING_HEALTH_TIMEOUT_SECONDS=15              # 15 seconds timeout for production